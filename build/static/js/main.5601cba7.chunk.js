(this.webpackJsonpcoding_challenge=this.webpackJsonpcoding_challenge||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(0),a=n.n(i),c=n(8),o=n.n(c),u=(n(77),n(12)),l=n(44),s=n.n(l),d=n(58),f=n(30),j=n(13),b=n(11),O=n(23);function v(e,t){return 1*t.diff(e).as("minutes")}function m(e,t){var n=1*t.diff(e).as("minutes");return Object(O.isNaN)(n)?100:n}function h(e,t,n){if(0===e.length)return!0;var r=Math.trunc((e.length-1)/2),i=e[r],a=b.DateTime.fromISO(i.start),c=b.DateTime.fromISO(i.end);return!(t>=a&&t<=c)&&(!(n>=a&&n<=c)&&(!(t<=a&&n>=c)&&(a>n?h(e.slice(0,r),t,n):!(t>c)||h(e.slice(r+1,e.length),t,n))))}var p=function(e,t,n,r,i){var a=n.diff(t).as("minutes"),c=i-r.getBoundingClientRect().left,o=e.plus({minutes:c/1});return{start:o,end:o.plus({minutes:a})}},x=n(14),S=function(e,t){switch(t.type){case"SET_EVENTS":return Object(x.a)(Object(x.a)({},e),{},{events:t.value});case"SET_START":return Object(x.a)(Object(x.a)({},e),{},{selectedStart:t.value});case"SET_END":return Object(x.a)(Object(x.a)({},e),{},{selectedEnd:t.value});case"SET_FILTERED_EVENTS":return Object(x.a)(Object(x.a)({},e),{},{filteredEvents:t.value});case"INIT_STORE":return Object(x.a)(Object(x.a)({},e),{},{events:t.value.data,filteredEvents:t.value.data,filterOptions:t.value.options});default:return e}},g={events:[],dispatch:function(){},selectedStart:b.DateTime.local(),selectedEnd:b.DateTime.local().plus({minutes:180}),filteredEvents:[],filterOptions:[]},E=Object(i.createContext)(g),T=function(e){var t=e.children,n=Object(i.useReducer)(S,g),a=Object(f.a)(n,2),c=a[0],o=a[1];return Object(r.jsx)(E.Provider,{value:Object(x.a)(Object(x.a)({},c),{},{dispatch:o}),children:t})},y=n(59),D=n.n(y);var w=function(){return D.a.get("".concat("","/events.json"))},I=n(133);function _(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 4;\n"]);return _=function(){return e},e}var C=j.a.div(_()),k=function(e){var t=e.loading,n=e.opacity,i=e.inline,a=void 0!==i&&i;if(!t)return null;var c={background:n?"rgba(255, 255, 255, ".concat(n,")"):void 0,minHeight:a?"10rem":void 0,minWidth:a?"10rem":void 0,position:a?"relative":void 0};return Object(r.jsx)(C,{style:c,children:Object(r.jsx)(I.a,{})})};function L(){var e=Object(u.a)(["\n  position: absolute;\n  left: ","px;\n  width: ","px;\n  height: 80px;\n  border: 1px solid;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return L=function(){return e},e}var N=j.a.div(L(),(function(e){return e.left}),(function(e){return e.width})),R=function(e){var t=e.timeLineStart,n=e.item,i=n.start,a=n.end,c=n.name,o=v(t,b.DateTime.fromISO(i)),u=m(b.DateTime.fromISO(i),b.DateTime.fromISO(a));return Object(r.jsx)(N,{left:o,width:u,children:c})};function F(){var e=Object(u.a)(["\n  position: absolute;\n  height: 100%;\n  border-left: 5px solid #585858;\n  border-right: 5px solid #585858;\n  width: ","px;\n  left: ","px;\n  background: ",";\n  z-index: 1;\n  transition: all 170ms ease-in;\n  box-sizing: border-box;\n"]);return F=function(){return e},e}var A=j.a.div(F(),(function(e){return e.width}),(function(e){return e.left}),(function(e){return e.free?"#4CAF50":"#f44336b8"})),V=function(e){var t=e.timeLineStart,n=Object(i.useContext)(E),a=n.events,c=n.selectedStart,o=n.selectedEnd,u=v(t,c),l=m(c,o),s=h(a,c,o);return Object(r.jsx)(A,{left:u,width:l,free:s})};function z(){var e=Object(u.a)(["\n  position: relative;\n  height: 100px;\n  background: #f0f0f0;\n  width: ","px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return z=function(){return e},e}function J(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n"]);return J=function(){return e},e}var M=j.a.div(J()),B=j.a.div(z(),(function(e){return e.width})),q=function(e){e.children;var t,n,a=e.timeLineStart,c=Object(i.useContext)(E),o=c.events,u=c.selectedStart,l=c.selectedEnd,j=c.filteredEvents,v=c.dispatch,h=Object(i.useRef)(null),x=m(a,b.DateTime.fromISO(null!==(t=null===(n=Object(O.last)(o))||void 0===n?void 0:n.end)&&void 0!==t?t:"")),S=Object(i.useState)(!0),g=Object(f.a)(S,2),T=g[0],y=g[1],D=Object(i.useCallback)((function(e){var t=p(a,u,l,h.current,e.clientX),n=t.start,r=t.end;v({type:"SET_END",value:r}),v({type:"SET_START",value:n})}),[u,l,v,a]);return Object(i.useEffect)((function(){function e(){return(e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:200===(t=e.sent).status?v({type:"INIT_STORE",value:{data:t.data,options:Object(O.uniq)(Object(O.map)(t.data,"name"))}}):alert("mock error handling"),y(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.jsx)(M,{children:Object(r.jsxs)(B,{ref:h,width:x,onClick:D,children:[Object(r.jsx)(k,{loading:T}),!T&&j.map((function(e){return Object(r.jsx)(R,{timeLineStart:a,item:e},e.id)})),!T&&Object(r.jsx)(V,{timeLineStart:a})]})})},H=n(66),P=n(137),W=n(138),X=n(140),G=n(141),K=n(139);var Q=function(){var e=Object(i.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(i.useContext)(E),c=a.events,o=a.selectedStart,u=a.selectedEnd,l=a.filterOptions,s=a.dispatch;return{start:o,end:u,nameFilterValue:n,nameFilterOptions:l,onStartChange:function(e){s("string"===typeof e?{type:"SET_START",value:b.DateTime.fromISO(e)}:{type:"SET_START",value:b.DateTime.fromISO(e.toISOString())})},onEndChange:function(e){s("string"===typeof e?{type:"SET_END",value:b.DateTime.fromISO(e)}:{type:"SET_END",value:b.DateTime.fromISO(e.toISOString())})},onFilterChange:function(e){null===e?(r(""),s({type:"SET_FILTERED_EVENTS",value:c})):(s({type:"SET_FILTERED_EVENTS",value:c.filter((function(t){return t.name===e}))}),r(e))}}},U=n(45),Y=n.n(U);n(103);function Z(){var e=Object(u.a)(["\n  && {\n    margin-left: 1rem;\n  }\n"]);return Z=function(){return e},e}function $(){var e=Object(u.a)(["\n  && {\n    min-width: 200px;\n\n    .MuiFormLabel-root {\n      flex: 1;\n      position: relative;\n    }\n\n    input {\n      border: none;\n      border-bottom: 1px solid;\n      padding-bottom: 6px;\n    }\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n  && {\n    min-width: 200px;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return te=function(){return e},e}var ne=j.a.div(te()),re=Object(j.a)(P.a)(ee()),ie=Object(j.a)(P.a)($()),ae=Object(j.a)(W.a)(Z()),ce=function(e){e.timeLineStart;var t=Object(H.a)(e,["timeLineStart"]),n=Q(),i=n.start,a=n.end,c=n.nameFilterOptions,o=n.nameFilterValue,u=n.onEndChange,l=n.onFilterChange,s=n.onStartChange;return Object(r.jsxs)(ne,Object(x.a)(Object(x.a)({},t),{},{children:[Object(r.jsxs)(ie,{children:[Object(r.jsx)(X.a,{shrink:!0,children:"Start"}),Object(r.jsx)(Y.a,{value:i.toJSDate(),onChange:s})]}),Object(r.jsxs)(ie,{children:[Object(r.jsx)(X.a,{shrink:!0,children:"End"}),Object(r.jsx)(Y.a,{value:a.toJSDate(),onChange:u})]}),Object(r.jsxs)(re,{children:[Object(r.jsx)(X.a,{shrink:!0,children:"Organizer"}),Object(r.jsx)(K.a,{value:o,onChange:function(e){l(e.target.value)},children:c.map((function(e){return Object(r.jsx)(G.a,{value:e,children:e},e)}))})]}),Object(O.isEmpty)(o)?null:Object(r.jsx)(ae,{variant:"contained",color:"primary",onClick:function(){return l(null)},children:"Delete filter"})]}))};function oe(){var e=Object(u.a)(["\n  margin: 2rem 0;\n"]);return oe=function(){return e},e}function ue(){var e=Object(u.a)(["\n  padding: 2rem;\n"]);return ue=function(){return e},e}var le=j.a.div(ue()),se=Object(j.a)(ce)(oe());var de=function(){var e=Object(i.useMemo)((function(){return b.DateTime.local()}),[]);return Object(r.jsx)(le,{className:"App",children:Object(r.jsxs)(T,{children:[Object(r.jsx)(se,{timeLineStart:e}),Object(r.jsx)(q,{timeLineStart:e})]})})};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(de,{})}),document.getElementById("root"))},77:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.5601cba7.chunk.js.map