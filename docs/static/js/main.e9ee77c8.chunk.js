(this.webpackJsonpcoding_challenge=this.webpackJsonpcoding_challenge||[]).push([[0],{103:function(t,n,e){"use strict";e.r(n);var r=e(4),i=e(0),a=e.n(i),c=e(8),o=e.n(c),u=(e(77),e(12)),s=e(11),l=e(13),f=e(58);function j(t,n){return 1*n.diff(t).as("minutes")}function d(t,n){return 1*n.diff(t).as("minutes")}function b(){var t=Object(u.a)(["\n  position: absolute;\n  left: ","px;\n  width: ","px;\n  height: 80px;\n  border: 1px solid;\n  box-sizing: border-box;\n  top: 50%;\n  margin-top: -40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return b=function(){return t},t}var O=l.a.div(b(),(function(t){return t.left}),(function(t){return t.width})),m=function(t){var n=t.timeLineStart,e=t.item,i=e.start,a=e.end,c=e.name,o=j(n,s.DateTime.fromISO(i)),u=d(s.DateTime.fromISO(i),s.DateTime.fromISO(a));return Object(r.jsx)(O,{left:o,width:u,children:c})},v=a.a.createContext({events:[],organizers:[],loading:!1,filterEventsByName:function(t){}});var h=function(t,n){return 1*n.diff(t).as("minutes")},x=e(30),g=a.a.createContext({start:s.DateTime.local(),end:s.DateTime.local(),setStart:function(){},setEnd:function(){}});var p=function(t,n,e,r,i){var a=e.diff(n).as("minutes"),c=i-r.getBoundingClientRect().left,o=t.plus({minutes:c/1});return{start:o,end:o.plus({minutes:a})}};function S(){var t=Object(u.a)(["\n  position: relative;\n  height: 100px;\n  background: #f0f0f0;\n  width: ","px;\n"]);return S=function(){return t},t}function C(){var t=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n"]);return C=function(){return t},t}var w=l.a.div(C()),y=l.a.div(S(),(function(t){return t.width})),D=function(t){var n,e,a=t.children,c=t.timeLineStart,o=Object(i.useContext)(v).events,u=Object(i.useContext)(g),l=h(c,s.DateTime.fromISO(null!==(n=null===(e=Object(x.last)(o))||void 0===e?void 0:e.end)&&void 0!==n?n:"")),f=Object(i.useRef)(null),j=Object(i.useCallback)((function(t){var n=p(c,u.start,u.end,f.current,t.clientX),e=n.start,r=n.end;u.setStart(e),u.setEnd(r)}),[u]);return Object(r.jsx)(w,{children:Object(r.jsx)(y,{ref:f,width:l,onClick:j,children:a})})},E=e(28),k=e(19),T=e(62),I=e.n(T);var L=function(){return I.a.get("".concat("/ueni_challenge","/events.json"))},M=function(t){var n=t.children,e=Object(i.useState)(null),a=Object(k.a)(e,2),c=a[0],o=a[1],u=Object(i.useState)([]),s=Object(k.a)(u,2),l=s[0],f=s[1],j=Object(i.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],m=Object(i.useMemo)((function(){return Array.from(new Set(l.map((function(t){return t.name}))))}),[l]),h=Object(i.useMemo)((function(){return{loading:b,organizers:m,events:c?l.filter((function(t){return t.name===c})):l,filterEventsByName:o}}),[l,c,b,o]);return Object(i.useEffect)((function(){O(!0),L().then((function(t){f(t.data),O(!1)}))}),[]),Object(r.jsx)(v.Provider,{value:h,children:n})};var z=function(t){var n=t.children,e=Object(i.useState)(s.DateTime.local()),a=Object(k.a)(e,2),c=a[0],o=a[1],u=Object(i.useState)(s.DateTime.local().plus({hours:1})),l=Object(k.a)(u,2),f=l[0],j=l[1],d=Object(i.useMemo)((function(){return{start:c,end:f,setStart:o,setEnd:j}}),[c,f,o,j]);return Object(r.jsx)(g.Provider,{value:d,children:n})};function F(){var t=Object(u.a)(["\n  position: absolute;\n  height: 100%;\n  border-left: 5px solid #585858;\n  border-right: 5px solid #585858;\n  width: ","px;\n  left: ","px;\n  background:",";\n  z-index: 1;\n  transition: all 170ms ease-in;\n  box-sizing: border-box;\n"]);return F=function(){return t},t}var B=l.a.div(F(),(function(t){return t.width}),(function(t){return t.left}),(function(t){return t.free?"#4CAF50":"#f44336b8"})),J=function(t){var n=t.timeLineStart,e=Object(i.useContext)(v),a=Object(i.useContext)(g),c=j(n,a.start),o=d(a.start,a.end),u=function(t,n,e){var r,i=Object(f.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=n.toMillis(),o=e.toMillis(),u=s.DateTime.fromISO(a.start).toMillis(),l=s.DateTime.fromISO(a.end).toMillis();if(u<c&&l>o)return!1;if(u>=c&&u<=o)return!1;if(l<=o&&l>c)return!1;if(l>o)return!0}}catch(j){i.e(j)}finally{i.f()}return!0}(e.events,a.start,a.end);return Object(r.jsx)(B,{left:c,width:o,free:u})},N=e(66),A=e(132),_=e(136),P=e(139),R=e(140),V=e(138);var H=function(){var t=Object(i.useState)(null),n=Object(k.a)(t,2),e=n[0],r=n[1],a=Object(i.useContext)(v),c=a.filterEventsByName,o=a.organizers,u=Object(i.useContext)(g),l=u.setEnd,f=u.setStart,j=u.start,d=u.end,b=Object(i.useCallback)((function(t){f(s.DateTime.fromISO(t.toISOString()))}),[f]),O=Object(i.useCallback)((function(t){l(s.DateTime.fromISO(t.toISOString()))}),[l]),m=Object(i.useCallback)((function(t){r(t)}),[r]);return Object(i.useEffect)((function(){c(Object(x.isEmpty)(e)?null:e)}),[e]),{start:j,end:d,nameFilterValue:e,nameFilterOptions:o,onStartChange:b,onEndChange:O,onFilterChange:m}},W=e(45),X=e.n(W);e(100);function q(){var t=Object(u.a)(["\n  && {\n    margin-left: 1rem;\n  }\n"]);return q=function(){return t},t}function G(){var t=Object(u.a)(["\n  && {\n    min-width: 200px;\n\n    .MuiFormLabel-root {\n      flex: 1;\n      position: relative;\n    }\n\n    input {\n      border: none;\n      border-bottom: 1px solid;\n      padding-bottom: 6px;\n    }\n  }\n"]);return G=function(){return t},t}function K(){var t=Object(u.a)(["\n  && {\n    min-width: 200px;\n  }\n"]);return K=function(){return t},t}function Q(){var t=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Q=function(){return t},t}var U=l.a.div(Q()),Y=Object(l.a)(A.a)(K()),Z=Object(l.a)(A.a)(G()),$=Object(l.a)(_.a)(q()),tt=function(t){t.timeLineStart;var n=Object(N.a)(t,["timeLineStart"]),e=H(),i=e.start,a=e.end,c=e.nameFilterOptions,o=e.nameFilterValue,u=e.onEndChange,s=e.onFilterChange,l=e.onStartChange;return Object(r.jsxs)(U,Object(E.a)(Object(E.a)({},n),{},{children:[Object(r.jsxs)(Z,{children:[Object(r.jsx)(P.a,{shrink:!0,children:"Start"}),Object(r.jsx)(X.a,{value:i.toJSDate(),onChange:l})]}),Object(r.jsxs)(Z,{children:[Object(r.jsx)(P.a,{shrink:!0,children:"End"}),Object(r.jsx)(X.a,{value:a.toJSDate(),onChange:u})]}),Object(r.jsxs)(Y,{children:[Object(r.jsx)(P.a,{shrink:!0,children:"Organizer"}),Object(r.jsx)(V.a,{value:o,onChange:function(t){s(t.target.value)},children:c.map((function(t){return Object(r.jsx)(R.a,{value:t,children:t},t)}))})]}),Object(x.isEmpty)(o)?null:Object(r.jsx)($,{variant:"contained",color:"primary",onClick:function(){return s(null)},children:"Delete filter"})]}))},nt=e(137);function et(){var t=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 4;\n"]);return et=function(){return t},t}var rt=l.a.div(et()),it=function(t){var n=t.loading,e=t.opacity,i=t.inline,a=void 0!==i&&i;if(!n)return null;var c={background:e?"rgba(255, 255, 255, ".concat(e,")"):void 0,minHeight:a?"10rem":void 0,minWidth:a?"10rem":void 0,position:a?"relative":void 0};return Object(r.jsx)(rt,{style:c,children:Object(r.jsx)(nt.a,{})})};function at(){var t=Object(u.a)(["\n  margin: 2rem 0;\n"]);return at=function(){return t},t}function ct(){var t=Object(u.a)(["\n  padding: 2rem;\n"]);return ct=function(){return t},t}var ot=l.a.div(ct()),ut=Object(l.a)(tt)(at());var st,lt=function(t){return function(n){return Object(r.jsx)(z,{children:Object(r.jsx)(t,Object(E.a)({},n))})}}((st=function(){var t=Object(i.useContext)(v),n=t.events,e=t.loading,a=Object(i.useMemo)((function(){return s.DateTime.local().set({minute:0,hour:0,second:0,millisecond:0})}),[]);return Object(r.jsxs)(ot,{className:"App",children:[Object(r.jsx)(ut,{timeLineStart:a}),Object(r.jsxs)(D,{timeLineStart:a,children:[Object(r.jsx)(it,{loading:e}),Object(r.jsx)(J,{timeLineStart:a}),n.map((function(t){return Object(r.jsx)(m,{item:t,timeLineStart:a},t.id)}))]})]})},function(t){return Object(r.jsx)(M,{children:Object(r.jsx)(st,Object(E.a)({},t))})}));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(lt,{})}),document.getElementById("root"))},77:function(t,n,e){}},[[103,1,2]]]);
//# sourceMappingURL=main.e9ee77c8.chunk.js.map